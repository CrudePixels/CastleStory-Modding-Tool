# Castle Story Modding Tool v1.6.0 - Advanced Multiplayer Features

## üöÄ Major Release - Advanced Multiplayer System

This release introduces a complete overhaul of the multiplayer system, transforming Castle Story from a 4-player game to a massive 32-player multiplayer experience with advanced spectator features and comprehensive modding tools.

## ‚ú® New Features

### üéÆ Advanced Multiplayer System
- **32 Players** - Increased from 4 to 32 simultaneous players
- **16 Teams** - Dynamic team management with up to 16 teams
- **16 Spectators** - Advanced spectator system with multiple camera modes
- **4 Gamemodes**:
  - Classic - Traditional Castle Story gameplay
  - Battle Royale - Last team standing
  - King of the Hill - Control key points
  - Capture the Flag - Team-based objective gameplay

### üìπ Spectator Mode
- **6 Camera Modes**:
  - Free Camera - Unrestricted movement
  - First Person - Follow any player
  - Third Person - Over-the-shoulder view
  - Top Down - Strategic overview
  - Cinematic - Smooth camera movements
  - Replay - Record and playback game moments
- **Spectator Chat** - Dedicated chat system for spectators
- **Replay System** - Record and playback game sessions
- **Real-time Statistics** - Live game analytics

### üé® Advanced Faction Colors
- **30 Colors** - Expanded from 6 to 30 faction colors
- **Custom Color Palettes** - Create and manage custom color schemes
- **RGB/Hex Editing** - Precise color control with sliders and hex input
- **Color Palette Manager** - Built-in and custom palette support
- **Faction Flag Customization** - Enhanced team identification

### üîß Enhanced Modding Tools
- **Smart Game Detection** - Auto-detect Castle Story across Steam/Epic/GOG platforms
- **Mod Dependency System** - Automatic dependency resolution and conflict detection
- **Performance Monitoring** - FPS tracking, memory usage monitoring, system metrics
- **Configuration Editors**:
  - JSON Configuration Editor - Key-value editing, hierarchical editing
  - CSV Data Editor - CRUD operations, headers management, statistics
  - XML Configuration Editor - XPath queries, schema validation
  - Bricktron Names Editor - 7 categories, custom name generation
  - Language File Editor - Multi-language support, translation management

### üéØ Game Integration
- **Runtime Patching** - Dynamic modification of game limits and features
- **Host Migration** - Seamless server handoff when host leaves
- **Real-time Synchronization** - Player data and game state sync
- **Team Management** - Dynamic team switching and role assignments
- **Enhanced UI** - Modified game interface for better multiplayer experience

## üêõ Bug Fixes

### Editor Improvements
- Fixed Lua Editor mode switching bug
- Fixed Faction Color Editor color mismatch
- Fixed Lua Editor duplication issues
- Fixed Easy Mode field population
- Added preset button functionality

### Technical Fixes
- Fixed compilation warnings and nullability issues
- Fixed EasyLauncher self-contained deployment
- Removed LadderMod (deferred - requires Unity assets)
- Enhanced memory patching system
- Improved error handling and logging

### Performance
- Optimized networking code
- Reduced memory usage
- Improved build times
- Enhanced stability

## üìä Technical Specifications

### Networking
- **Protocol**: TCP-based communication
- **Architecture**: Client-server with host migration
- **Synchronization**: Real-time player and game state sync
- **Latency**: Optimized for low-latency gameplay

### System Requirements
- **OS**: Windows 10/11 (64-bit)
- **RAM**: 8GB minimum, 16GB recommended
- **Storage**: 2GB free space
- **Network**: Broadband internet connection for multiplayer

### Supported Platforms
- **Steam** - Auto-detected installation
- **Epic Games** - Auto-detected installation  
- **GOG** - Auto-detected installation
- **Manual** - Custom installation path

## üéØ Installation Instructions

1. **Download** the `CastleStory-Modding-Tool-v1.6.0.zip` file
2. **Extract** to your desired location
3. **Run** `EasyLauncher.exe` for the simple launcher
4. **Or run** `Components/CastleStoryLauncher/CastleStoryLauncher.exe` for the full modding tool
5. **Configure** your Castle Story installation path if not auto-detected
6. **Enable** desired mods and features
7. **Launch** Castle Story with enhanced multiplayer support

## üöÄ Getting Started

### For Players
1. Launch the modding tool
2. Enable the MultiplayerMod
3. Start a server or join an existing one
4. Enjoy 32-player multiplayer games!

### For Spectators
1. Join a game as a spectator
2. Use the camera controls to follow players
3. Access spectator chat and statistics
4. Record replays for later viewing

### For Modders
1. Use the enhanced editors for configuration files
2. Create custom color palettes
3. Manage mod dependencies
4. Monitor performance metrics

## üîÑ Migration from Previous Versions

- **Settings**: Existing settings are preserved
- **Mods**: Compatible with most existing mods
- **Saves**: Game saves remain compatible
- **Configurations**: Existing configurations are maintained

## üÜò Support

- **Issues**: Report bugs on GitHub Issues
- **Documentation**: Check the README.md for detailed information
- **Community**: Join the Castle Story modding community

## üìù Changelog

### v1.6.0 (Current)
- Added 32-player multiplayer support
- Implemented advanced spectator mode
- Created comprehensive modding tools
- Enhanced faction color system
- Added smart game detection
- Fixed numerous bugs and issues

### Previous Versions
- v1.5.0 - Basic multiplayer improvements
- v1.4.0 - Enhanced modding framework
- v1.3.0 - Initial multiplayer support

## üéâ Acknowledgments

Thank you to the Castle Story community for feedback and testing. This release represents months of development and testing to bring you the most advanced Castle Story modding experience possible.

---

**Castle Story Modding Tool v1.6.0**  
*Transforming Castle Story into a massive multiplayer experience*

**Download Size**: ~47MB  
**Release Date**: January 5, 2025  
**Version**: 1.6.0
